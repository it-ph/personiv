{"version":3,"sources":["guest.module.js","guest.routes.js","controllers/approved-reservation-dialog.controller.js","controllers/home-content-container.controller.js","controllers/home-toolbar-controller.js","controllers/reposts-dialog.controller.js","controllers/reservations-content-container.controller.js","controllers/reservations-subheader.controller.js","controllers/reservations-toolbar.controller.js","controllers/wall-content-container.controller.js","controllers/wall-toolbar-controller.js","controllers/wall-view.controller.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"guest.js","sourcesContent":["var guest = angular.module('guest', ['shared']);","guest\r\n\t.config(['$stateProvider', function($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('wall', {\r\n\t\t\t\turl: '/',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/guest/views/guest.view.html',\r\n\t\t\t\t\t\tcontroller: 'wallViewController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content-container@wall': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'wallContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@wall': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/guest/templates/toolbar.template.html',\r\n\t\t\t\t\t\tcontroller: 'wallToolbarController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@wall':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/posts/templates/content/posts.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// .state('wall', {\r\n\t\t\t// \turl: '/',\r\n\t\t\t// \tviews: {\r\n\t\t\t// \t\t'': {\r\n\t\t\t// \t\t\ttemplateUrl: '/app/guest/views/guest.view.html',\r\n\t\t\t// \t\t\tcontroller: 'wallViewController',\r\n\t\t\t// \t\t},\r\n\t\t\t// \t\t'content-container@wall': {\r\n\t\t\t// \t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t// \t\t\tcontroller: 'homeContentContainerController',\r\n\t\t\t// \t\t},\r\n\t\t\t// \t\t'toolbar@wall': {\r\n\t\t\t// \t\t\ttemplateUrl: '/app/guest/templates/toolbar.template.html',\r\n\t\t\t// \t\t\tcontroller: 'homeToolbarController',\r\n\t\t\t// \t\t},\r\n\t\t\t// \t\t'content@wall':{\r\n\t\t\t// \t\t\ttemplateUrl: '/app/components/app/templates/home.template.html',\r\n\t\t\t// \t\t}\r\n\t\t\t// \t}\r\n\t\t\t// })\r\n\t\t\t// .state('wall.posts', {\r\n\t\t\t// \turl: 'posts/{postID}',\r\n\t\t\t// \tparams: {'postID':null},\r\n\t\t\t// \tviews: {\r\n\t\t\t// \t\t'content-container': {\r\n\t\t\t// \t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t// \t\t\tcontroller: 'wallContentContainerController',\r\n\t\t\t// \t\t},\r\n\t\t\t// \t\t'toolbar@wall.posts': {\r\n\t\t\t// \t\t\ttemplateUrl: '/app/guest/templates/toolbar.template.html',\r\n\t\t\t// \t\t\tcontroller: 'wallToolbarController',\r\n\t\t\t// \t\t},\r\n\t\t\t// \t\t'content@wall.posts':{\r\n\t\t\t// \t\t\ttemplateUrl: '/app/components/posts/templates/content/posts.template.html',\r\n\t\t\t// \t\t}\r\n\t\t\t// \t}\r\n\t\t\t// })\r\n\t\t\t.state('wall.reservations', {\r\n\t\t\t\turl: 'reservations',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'reservationsContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@wall.reservations': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/guest/templates/toolbar.template.html',\r\n\t\t\t\t\t\tcontroller: 'reservationsToolbarController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'subheader@wall.reservations': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/reservations/templates/subheaders/reservations-subheader.template.html',\r\n\t\t\t\t\t\tcontroller: 'reservationsSubheaderController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@wall.reservations':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/reservations/templates/content/reservations-content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}]);","guest\r\n\t.controller('approvedReservationDialogController', ['$scope', 'Helper', function($scope, Helper){\r\n\t\tvar reservation = Helper.fetch();\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\tHelper.cancel();\r\n\t\t}\r\n\r\n\t\tvar request = {\r\n\t\t\t'with': [\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation': 'location',\r\n\t\t\t\t\t'withTrashed': true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation': 'user',\r\n\t\t\t\t\t'withTrashed': true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation': 'equipment_types',\r\n\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation': 'equipment',\r\n\t\t\t\t\t'withTrashed': true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation':'schedule_approver',\r\n\t\t\t\t\t'withTrashed': true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation':'equipment_approver',\r\n\t\t\t\t\t'withTrashed': true,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\t'withCount': [\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation': 'equipment_types',\r\n\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t'where': [\r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'id',\r\n\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t'value': reservation.id,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\t'first' : true,\r\n\t\t}\r\n\r\n\t\tHelper.post('/reservation/enlist', request)\r\n\t\t\t.success(function(data){\r\n\t\t\t\tdata.start = new Date(data.start);\r\n\t\t\t\tdata.end = data.end ? new Date(data.end) : null;\r\n\r\n\t\t\t\t$scope.reservation = data;\r\n\t\t\t})\r\n\t\t\t.error(function(){\r\n\t\t\t\tHelper.error();\r\n\t\t\t})\r\n\t}]);","guest\r\n\t.controller('homeContentContainerController', ['$scope', 'Helper', function($scope, Helper){\r\n\t\t$scope.$emit('closeSidenav');\r\n\r\n\t\t/*\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.init = function(){\r\n\t\t\tvar query = {};\r\n\r\n\t\t\tquery.with = [\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation': 'slides',\r\n\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t\tquery.first = true;\r\n\r\n\t\t\tHelper.post('/slideshow/enlist', query)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.slideshow = data;\r\n\t\t\t\t});\r\n\t\t}();\r\n\t}]);","guest\r\n\t.controller('homeToolbarController', ['$scope', 'Helper', function($scope, Helper){\r\n\t\t$scope.toolbar.childState = 'Home';\r\n\r\n\t\t$scope.toolbar.hideSearchIcon = true;\r\n\t}]);","guest\r\n\t.controller('repostsDialogController', ['$scope', 'Helper', function($scope, Helper){\r\n\t\t$scope.cancel = function(){\r\n\t\t\tHelper.cancel();\r\n\t\t}\r\n\r\n\t\tvar post = Helper.fetch();\r\n\r\n\t\tvar query = {};\r\n\r\n\t\tquery.with = [\r\n\t\t\t{\r\n\t\t\t\t'relation': 'post',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t}\r\n\t\t];\r\n\r\n\t\tquery.where = [\r\n\t\t\t{\r\n\t\t\t\t'label': 'post_id',\r\n\t\t\t\t'condition' : '=',\r\n\t\t\t\t'value': post.id\r\n\t\t\t}\r\n\t\t];\r\n\r\n\t\tquery.orderBy = [\r\n\t\t\t{\r\n\t\t\t\t'column':'created_at',\r\n\t\t\t\t'order':'desc',\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\tquery.paginate = 10;\r\n\r\n\t\t$scope.repost = {};\r\n\t\t$scope.repost.items = [];\r\n\t\t$scope.repost.page = 2;\r\n\r\n\t\tvar pushItem = function(data){\r\n\t\t\tdata.created_at = new Date(data.created_at);\r\n\t\t}\r\n\r\n\t\tHelper.post('/repost/enlist', query)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.repost.details = data;\r\n\t\t\t\t$scope.repost.items = data.data;\r\n\t\t\t\t$scope.repost.show = true;\r\n\r\n\t\t\t\tif(data.data.length){\r\n\t\t\t\t\tangular.forEach(data.data, function(item){\r\n\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$scope.repost.paginateLoad = function(){\r\n\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\tif($scope.repost.busy || ($scope.repost.page > $scope.repost.details.last_page)){\r\n\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t *\r\n\t\t\t\t\t*/\r\n\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t$scope.repost.busy = true;\r\n\t\t\t\t\t$scope.isLoading = true;\r\n\t\t\t\t\t// Calls the next page of pagination.\r\n\t\t\t\t\tHelper.post('/repost/enlist' + '?page=' + $scope.repost.page, query)\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t// increment the page to set up next page for next AJAX Call\r\n\t\t\t\t\t\t\t$scope.repost.page++;\r\n\r\n\t\t\t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t\t\t\t\tangular.forEach(data.data, function(item, key){\r\n\t\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t\t\t$scope.repost.items.push(item);\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t\t\t\t\t$scope.repost.busy = false;\r\n\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}]);","guest\r\n\t.controller('reservationsContentContainerController', ['$scope', '$compile', 'Helper', 'uiCalendarConfig', function($scope, $compile, Helper, uiCalendarConfig){\r\n\t\t$scope.$emit('closeSidenav');\r\n\r\n\t\t/*\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.toolbar.sortBy = function(filter){\r\n\t\t\tfilter.sortReverse = !filter.sortReverse;\t\t\t\r\n\t\t\t$scope.sortType = filter.type;\r\n\t\t\t$scope.sortReverse = filter.sortReverse;\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t * Object for subheader\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.subheader = {};\r\n\t\t$scope.subheader.show = true;\r\n\t\t$scope.subheader.current = {};\r\n\r\n\t    $scope.viewReservation = function(data){\r\n\t    \tHelper.set(data);\r\n\r\n\t    \tvar dialog = {\r\n\t    \t\t'template':'/app/components/reservations/templates/dialogs/approved-reservation-dialog.template.html',\r\n\t\t\t\t'controller': 'approvedReservationDialogController',\r\n\t    \t}\r\n\r\n\t    \tHelper.customDialog(dialog);\r\n\t    }\r\n\r\n\t    $scope.editReservation = function(data){\r\n\t    \tdata.action = 'edit';\r\n\r\n\t    \tHelper.set(data);\r\n\r\n\t    \tvar dialog = {\r\n\t    \t\t'template':'/app/components/reservations/templates/dialogs/reservation-dialog.template.html',\r\n\t\t\t\t'controller': 'reservationDialogController',\r\n\t    \t}\r\n\r\n\t\t\tHelper.customDialog(dialog)\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\tHelper.notify('Reservation updated.');\r\n\t\t\t\t\t$scope.refresh();\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t});\r\n\t    }\r\n\r\n\t    $scope.deleteReservation = function(data){\r\n\t    \tvar dialog = {};\r\n\t\t\tdialog.title = 'Delete';\r\n\t\t\tdialog.message = 'Delete this reservation?'\r\n\t\t\tdialog.ok = 'Delete';\r\n\t\t\tdialog.cancel = 'Cancel';\r\n\r\n\t\t\tHelper.confirm(dialog)\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\tHelper.delete('/reservation/' + data.id)\r\n\t\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t\t$scope.refresh();\r\n\t\t\t\t\t\t\tHelper.notify('Reservation deleted.');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tHelper.error();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t})\r\n\t    }\r\n\r\n\t\t/*\r\n\t\t *\r\n\t\t * Object for calendar\r\n\t\t*/\r\n\t\t$scope.uiConfig = {\r\n\t\t    calendar: {\r\n\t\t    \theight: 500,\r\n\t\t        editable: false,\r\n\t\t        header:{\r\n\t\t          \tleft: 'title',\r\n\t\t          \tcenter: '',\r\n\t\t          \tright: 'today prev,next'\r\n\t\t        },\r\n\t\t        eventClick: $scope.viewReservation,\r\n\t\t        eventDrop: $scope.alertOnDrop,\r\n\t\t        eventResize: $scope.alertOnResize,\r\n\t\t        viewRender: function(date) {\r\n\t\t            $scope.dateRange = {};\r\n\r\n\t\t            $scope.dateRange.start = new Date(date.start._d).toDateString();\r\n\t\t            $scope.dateRange.end = new Date(date.end._d).toDateString();\r\n\r\n\t\t            Helper.set($scope.dateRange);\r\n\r\n\t\t            $scope.$broadcast('dateRange');\r\n\r\n\t\t            $scope.init($scope.subheader.current);\r\n\t\t        }\r\n\t\t    }\r\n\t    };\r\n\r\n\r\n\t    $scope.eventSources = [];\r\n\r\n\t    $scope.changeView = function(view){\r\n\t    \tuiCalendarConfig.calendars.reservationCalendar.fullCalendar('changeView', view);\r\n\t    }\r\n\r\n\t    $scope.calendarType = 'month';\r\n\r\n\t\t/* Action originates from subheader */\r\n\t\t$scope.$on('setInit', function(){\r\n\t\t\t$scope.isLoading = true;\r\n\t\t\t$scope.$broadcast('close');\r\n\t\t\t\r\n\t\t\tvar current = Helper.fetch();\r\n\r\n\t\t\t$scope.subheader.current = current;\r\n\t\t\t$scope.init(current);\r\n\t\t});\r\n\r\n\t\t/* Action originates from toolbar */\r\n\t\t$scope.$on('search', function(){\r\n\t\t\t$scope.subheader.current.request.search = $scope.toolbar.searchText;\r\n\t\t\t$scope.refresh();\r\n\t\t});\r\n\r\n\t\t/* Listens for any request for refresh */\r\n\t\t$scope.$on('refresh', function(){\r\n\t\t\t$scope.subheader.current.request.search = null;\r\n\t\t\t$scope.$broadcast('close');\r\n\t\t\t$scope.refresh();\r\n\t\t});\r\n\r\n\t\t/* Formats every data in the paginated call */\r\n\t\tvar pushItem = function(data){\r\n\t\t\tdata.deleted_at =  data.deleted_at ? new Date(data.deleted_at) : null;\r\n\t\t\tdata.created_at = new Date(data.created_at);\r\n\t\t\tdata.start = new Date(data.start);\r\n\t\t\tdata.end = new Date(data.end);\r\n\r\n\t\t\tvar item = {};\r\n\r\n\t\t\titem.display = data.title;\r\n\t\t\t\r\n\t\t\t$scope.toolbar.items.push(item);\r\n\t\t}\r\n\r\n\t\t$scope.init = function(query){\r\n\t\t\t$scope.reservation = {};\r\n\t\t\t$scope.toolbar.items = [];\r\n\r\n\t\t\tHelper.post('/reservation/enlist', query.request)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.eventSources.splice(0,1);\r\n\r\n\t\t\t\t\t$scope.reservation.approved = [];\r\n\t\t\t\t\t$scope.reservation.pending = [];\r\n\r\n\t\t\t\t\tif(data.length){\r\n\t\t\t\t\t\t// iterate over each record and set the format\r\n\t\t\t\t\t\tangular.forEach(data, function(item){\r\n\t\t\t\t\t\t\tpushItem(item);\r\n\r\n\t\t\t\t\t\t\tif((item.schedule_approver_id && item.equipment_types_count && item.equipment_approver_id) || (item.schedule_approver_id && !item.equipment_types_count))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\titem.title = item.title + ' - ' + item.location.name;\r\n\t\t\t\t\t\t\t\t$scope.reservation.approved.push(item);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\t$scope.reservation.pending.push(item);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t$scope.eventSources.push($scope.reservation.approved);\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$scope.refresh = function(){\r\n\t\t\t\t\t\t$scope.isLoading = true;\r\n\r\n\t\t\t\t\t\tHelper.set($scope.dateRange);\r\n\r\n\t\t\t            $scope.$broadcast('dateRange');\r\n\r\n\t\t\t  \t\t\t$scope.init($scope.subheader.current);\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t}\r\n\t}]);","guest\r\n\t.controller('reservationsSubheaderController', ['$scope', 'Helper', function($scope, Helper){\r\n\t\tvar setInit = function(data){\r\n\t\t\tHelper.set(data);\r\n\r\n\t\t\t$scope.current_tab = data;\r\n\r\n\t\t\t$scope.$emit('setInit');\r\n\t\t}\r\n\r\n\t\t$scope.subheader.all = {};\r\n\r\n\t\t$scope.subheader.all.label = 'All';\r\n\r\n\t\t$scope.subheader.all.request = {\r\n\t\t\t'with': [\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation':'location',\r\n\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation':'user',\r\n\t\t\t\t\t'withTrashed': true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation':'schedule_approver',\r\n\t\t\t\t\t'withTrashed': true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation':'equipment_approver',\r\n\t\t\t\t\t'withTrashed': true,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\t'withCount': [\r\n\t\t\t\t{\r\n\t\t\t\t\t'relation':'equipment_types',\r\n\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t}\r\n\r\n\t\t$scope.subheader.all.action = function(){\r\n\t\t\tsetInit($scope.subheader.all);\r\n\t\t}\r\n\r\n\t\t$scope.$on('dateRange', function(){\r\n\t\t\tvar dateRange = Helper.fetch();\r\n\r\n\t\t\tvar whereBetween = {\r\n\t\t\t\t'label': 'start',\r\n\t\t\t\t'start': dateRange.start,\r\n\t\t\t\t'end': dateRange.end,\r\n\t\t\t}\r\n\r\n\t\t\t$scope.subheader.all.request.whereBetween = whereBetween;\r\n\t\t\t\r\n\t\t\tangular.forEach($scope.subheader.navs, function(item){\r\n\t\t\t\titem.request.whereBetween = whereBetween;\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$scope.init = function(){\r\n\t\t\tHelper.get('/location')\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.locations = data;\r\n\t\t\t\t\t$scope.subheader.navs = [];\r\n\t\t\t\t\t\r\n\t\t\t\t\tangular.forEach($scope.locations, function(location){\r\n\t\t\t\t\t\tvar item = {};\r\n\r\n\t\t\t\t\t\titem.id = location.id;\r\n\t\t\t\t\t\titem.label = location.name;\r\n\t\t\t\t\t\titem.request = {\r\n\t\t\t\t\t\t\t'with': [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t'relation':'location',\r\n\t\t\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t'relation':'user',\r\n\t\t\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t'relation':'schedule_approver',\r\n\t\t\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t'relation':'equipment_approver',\r\n\t\t\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t'withCount': [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t'relation':'equipment_types',\r\n\t\t\t\t\t\t\t\t\t'withTrashed': false,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t'where': [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t'label':'location_id',\r\n\t\t\t\t\t\t\t\t\t'condition':'=',\r\n\t\t\t\t\t\t\t\t\t'value': location.id,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\titem.action = function(current){\r\n\t\t\t\t\t\t\tsetInit(current);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t$scope.subheader.navs.push(item);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tsetInit($scope.subheader.all);\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.init();\r\n\t}]);","guest\r\n\t.controller('reservationsToolbarController', ['$scope', '$filter', function($scope, $filter){\r\n\t\t$scope.toolbar.childState = 'Room Reservations';\r\n\r\n\t\t$scope.$on('close', function(){\r\n\t\t\t$scope.hideSearchBar();\r\n\t\t});\r\n\r\n\t\t$scope.toolbar.getItems = function(query){\r\n\t\t\tvar results = query ? $filter('filter')($scope.toolbar.items, query) : $scope.toolbar.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\r\n\t\t$scope.toolbar.searchAll = true;\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.reservation.busy = true;\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.searchBar = false;\r\n\t\t\t$scope.toolbar.searchText = '';\r\n\t\t\t$scope.toolbar.searchItem = '';\r\n\t\t\t/* Cancels the paginate when the user sent a query */\r\n\t\t\tif($scope.searched){\r\n\t\t\t\t$scope.searched = false;\r\n\t\t\t\t$scope.$emit('refresh');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.$emit('search');\r\n\t\t\t$scope.searched = true;\r\n\t\t};\r\n\r\n\t\t$scope.toolbar.options = true;\r\n\r\n\t\t$scope.toolbar.refresh = function(){\r\n\t\t\t$scope.$emit('refresh');\r\n\t\t}\r\n\t}]);","guest\r\n\t.controller('wallContentContainerController', ['$scope', '$stateParams', '$state', 'Helper', function($scope, $stateParams, $state, Helper){\r\n\t\t$scope.$emit('closeSidenav');\r\n\r\n\t\t$scope.today = new Date();\r\n\r\n\t\t$scope.viewReposts = function(post){\r\n\t\t\tvar dialog = {\r\n\t\t\t\t'template':'/app/components/posts/templates/dialogs/reposts-dialog.template.html',\r\n\t\t\t\t'controller': 'repostsDialogController',\r\n\t\t\t}\r\n\r\n\t\t\tHelper.set(post);\r\n\r\n\t\t\tHelper.customDialog(dialog);\r\n\t\t}\r\n\r\n\t\t$scope.fetchComments = function(post){\r\n\t\t\tif(!post.comments)\r\n\t\t\t{\r\n\t\t\t\tvar query= {};\r\n\r\n\t\t\t\tquery.where = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'label':'post_id',\r\n\t\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t\t'value': post.id\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\r\n\t\t\t\tquery.with = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'relation':'user',\r\n\t\t\t\t\t\t'withTrashed':true,\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t\tquery.paginate = 10;\r\n\r\n\t\t\t\tHelper.post('/comment/enlist', query)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\tpost.comment_details = data;\r\n\r\n\t\t\t\t\t\tpost.comments = [];\r\n\r\n\t\t\t\t\t\tangular.forEach(data.data, function(item){\r\n\t\t\t\t\t\t\titem.created_at = new Date(item.created_at);\r\n\t\t\t\t\t\t\titem.updated_at = new Date(item.updated_at);\r\n\t\t\t\t\t\t\tpost.comments.unshift(item);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$scope.previousComments = function(post)\r\n\t\t{\r\n\t\t\tvar next_page = post.comment_details.current_page + 1;\r\n\t\t\t\r\n\t\t\tif(next_page <= post.comment_details.last_page)\r\n\t\t\t{\r\n\t\t\t\tvar query= {};\r\n\r\n\t\t\t\tquery.where = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'label':'post_id',\r\n\t\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t\t'value': post.id\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\r\n\t\t\t\tquery.with = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'relation':'user',\r\n\t\t\t\t\t\t'withTrashed':true,\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t\tquery.paginate = 10;\r\n\r\n\t\t\t\tHelper.post('/comment/enlist?page=' + next_page, query)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\tpost.comment_details = data;\r\n\r\n\t\t\t\t\t\tangular.forEach(data.data, function(item){\r\n\t\t\t\t\t\t\titem.created_at = new Date(item.created_at);\r\n\t\t\t\t\t\t\titem.updated_at = new Date(item.updated_at);\r\n\t\t\t\t\t\t\tpost.comments.unshift(item);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t/* Action originates from toolbar */\r\n\t\t$scope.$on('search', function(){\r\n\t\t\t$scope.request.search = $scope.toolbar.searchText;\r\n\t\t\t$scope.refresh();\r\n\t\t});\r\n\r\n\t\t/* Listens for any request for refresh */\r\n\t\t$scope.$on('refresh', function(){\r\n\t\t\t$scope.request.search = null;\r\n\t\t\t$scope.$broadcast('close');\r\n\t\t\t$scope.refresh();\r\n\t\t});\r\n\r\n\t\t/* Formats every data in the paginated call */\r\n\t\tvar pushItem = function(data){\r\n\t\t\tdata.created_at = new Date(data.created_at);\r\n\r\n\t\t\tif(data.repost_id)\r\n\t\t\t{\r\n\t\t\t\tdata.repost.post.created_at = new Date(data.repost.post.created_at);\r\n\r\n\t\t\t\tdata.repost.post.chips = [];\r\n\r\n\t\t\t\tangular.forEach(data.repost.post.hashtags, function(hashtag){\r\n\t\t\t\t\tdata.repost.post.chips.push(hashtag.tag);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdata.chips = [];\r\n\r\n\t\t\tangular.forEach(data.hashtags, function(hashtag){\r\n\t\t\t\tdata.chips.push(hashtag.tag);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tvar item = {};\r\n\r\n\t\t\titem.display = data.title;\r\n\r\n\t\t\t$scope.toolbar.items.push(item);\r\n\t\t}\r\n\r\n\t\t$scope.searchHashTag = function(chip){\r\n\t\t\t$scope.toolbar.searchText = chip;\r\n\t\t\t$scope.$broadcast('open');\r\n\t\t}\r\n\r\n\t\t$scope.init = function(query){\r\n\t\t\t$scope.post = {};\r\n\t\t\t$scope.post.items = [];\r\n\t\t\t$scope.toolbar.items = [];\r\n\t\t\t$scope.currentTime = Date.now();\r\n\r\n\t\t\tvar birthday_query = {\r\n\t\t\t\t'whereMonth': \r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'birthdate',\r\n\t\t\t\t\t'value' : new Date().getMonth() + 1,\r\n\t\t\t\t},\r\n\t\t\t\t'whereDay': \r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'birthdate',\r\n\t\t\t\t\t'value' : new Date().getDate(),\r\n\t\t\t\t},\r\n\t\t\t}\r\n\r\n\t\t\tHelper.post('/birthday/enlist', birthday_query)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.birthdays = data;\r\n\t\t\t\t})\r\n\r\n\t\t\t// 2 is default so the next page to be loaded will be page 2 \r\n\t\t\t$scope.post.page = 2;\r\n\r\n\t\t\tHelper.post('/post/enlist', query)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.post.details = data;\r\n\t\t\t\t\t$scope.post.items = data.data;\r\n\t\t\t\t\t$scope.post.show = true;\r\n\r\n\t\t\t\t\tif(data.data.length){\r\n\t\t\t\t\t\t// iterate over each record and set the format\r\n\t\t\t\t\t\tangular.forEach(data.data, function(item){\r\n\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$scope.post.paginateLoad = function(){\r\n\t\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\t\tif($scope.post.busy || ($scope.post.page > $scope.post.details.last_page)){\r\n\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t\t *\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t\t$scope.post.busy = true;\r\n\t\t\t\t\t\t$scope.isLoading = true;\r\n\t\t\t\t\t\t// Calls the next page of pagination.\r\n\t\t\t\t\t\tHelper.post('/post/enlist' + '?page=' + $scope.post.page, query)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t// increment the page to set up next page for next AJAX Call\r\n\t\t\t\t\t\t\t\t$scope.post.page++;\r\n\r\n\t\t\t\t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t\t\t\t\t\tangular.forEach(data.data, function(item, key){\r\n\t\t\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t\t\t\t$scope.post.items.push(item);\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t\t\t\t\t\t$scope.post.busy = false;\r\n\t\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.refresh = function(){\r\n\t\t\tif(!$stateParams.postID)\r\n\t\t\t{\r\n\t\t\t\t$scope.isLoading = true;\r\n\t  \t\t\t$scope.post.show = false;\r\n\t  \t\t\t$scope.currentTime = Date.now();\r\n\t\t\t\t$scope.request.where = null;\r\n\r\n\t  \t\t\t$scope.init($scope.request);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t  \t\t\t$state.go('main.posts', {'postID':null});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.request = {};\r\n\r\n\t\t$scope.request.withTrashed = false;\r\n\t\t$scope.request.paginate = 10;\r\n\r\n\t\t$scope.request.with = [\r\n\t\t\t{\r\n\t\t\t\t'relation':'user',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation':'hashtags',\r\n\t\t\t\t'withTrashed': false,\t\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'relation':'repost.post',\r\n\t\t\t\t'withTrashed': false,\t\r\n\t\t\t},\r\n\t\t];\r\n\t\t\r\n\t\t$scope.request.withCount = [\r\n\t\t\t{\r\n\t\t\t\t'relation':'comments',\r\n\t\t\t\t'withTrashed': false,\r\n\t\t\t}\r\n\t\t]\r\n\r\n\t\t$scope.request.whereNull = ['group_id'];\r\n\r\n\t\t$scope.request.orderBy = [\r\n\t\t\t{\r\n\t\t\t\t'column':'created_at',\r\n\t\t\t\t'order':'desc',\r\n\t\t\t},\t\r\n\t\t]\r\n\r\n\t\tif($stateParams.postID)\r\n\t\t{\t\t\r\n\t\t\t$scope.request.where = [\r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'id',\r\n\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t'value': $stateParams.postID,\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t}\r\n\r\n\t\t$scope.isLoading = true;\r\n\t\t$scope.$broadcast('close');\r\n\r\n\t\t$scope.init($scope.request);\r\n\t}]);","guest\r\n\t.controller('wallToolbarController', ['$scope', '$filter', function($scope, $filter){\r\n\t\t$scope.toolbar.childState = 'Posts';\r\n\r\n\t\t$scope.$on('close', function(){\r\n\t\t\t$scope.hideSearchBar();\r\n\t\t});\r\n\r\n\t\t$scope.$on('open', function(){\r\n\t\t\t$scope.showSearchBar();\r\n\t\t\t$scope.searchUserInput();\r\n\t\t});\r\n\r\n\t\t$scope.toolbar.getItems = function(query){\r\n\t\t\tvar results = query ? $filter('filter')($scope.toolbar.items, query) : $scope.toolbar.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\r\n\t\t$scope.toolbar.searchAll = true;\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t// $scope.post.busy = true;\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.searchBar = false;\r\n\t\t\t$scope.toolbar.searchText = '';\r\n\t\t\t$scope.toolbar.searchItem = '';\r\n\t\t\t/* Cancels the paginate when the user sent a query */\r\n\t\t\tif($scope.searched){\r\n\t\t\t\t// $scope.post.page = 1;\r\n\t\t\t\t// $scope.post.no_matches = false;\r\n\t\t\t\t// $scope.post.items = [];\r\n\t\t\t\t$scope.searched = false;\r\n\t\t\t\t$scope.$emit('refresh');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.$emit('search');\r\n\t\t\t$scope.searched = true;\r\n\t\t};\r\n\r\n\t\t$scope.toolbar.options = true;\r\n\t\t\r\n\t\t$scope.toolbar.refresh = function(){\r\n\t\t\t$scope.$emit('refresh');\r\n\t\t}\r\n\t}]);","guest\r\n\t.controller('wallViewController', ['$scope', '$mdMedia', '$mdDialog', '$mdSidenav', '$mdToast', 'Helper', function($scope, $mdMedia, $mdDialog, $mdSidenav, $mdToast, Helper){\r\n\t\t$scope.toggleSidenav = function(menuID){\r\n\t\t\t$mdSidenav(menuID).toggle();\r\n\t\t}\r\n\r\n\t\t$scope.menu = {};\r\n\r\n\t\tHelper.get('/link')\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.menu.static = data;\r\n\t\t\t})\r\n\r\n\t\tHelper.get('/form')\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.menu.forms = data;\r\n\t\t\t})\r\n\t}]);"]}